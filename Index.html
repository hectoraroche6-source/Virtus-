<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>VIRTUD</title>

<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;700&display=swap" rel="stylesheet">

<style>
:root{
--bg:#0a0f1f;
--glass:rgba(255,255,255,0.05);
--accent:#00f2ff;
--gold:#D4AF37;
}

body{
margin:0;
font-family:'Montserrat',sans-serif;
background:var(--bg);
color:white;
overflow-x:hidden;
}

/* PORTADA */
#landing{
position:fixed;
inset:0;
display:flex;
flex-direction:column;
justify-content:center;
align-items:center;
background:radial-gradient(circle,#000,#0a0f1f);
z-index:1000;
transition:opacity .6s;
}

#landing h1{
font-size:3rem;
letter-spacing:6px;
}

.enter-btn{
margin-top:30px;
padding:15px 50px;
border-radius:40px;
border:1px solid var(--accent);
background:transparent;
color:var(--accent);
font-weight:bold;
cursor:pointer;
transition:.3s;
}

.enter-btn:hover{
background:var(--accent);
color:black;
}

/* APP */
#app{
display:none;
}

/* HEADER */
header{
text-align:center;
padding:20px;
background:rgba(0,0,0,.4);
backdrop-filter:blur(10px);
}

header h2{
margin:0;
color:var(--gold);
letter-spacing:3px;
}

/* BUSCADOR */
.search{
width:90%;
margin:20px auto;
display:block;
padding:12px 20px;
border-radius:30px;
border:1px solid #222;
background:var(--glass);
color:white;
outline:none;
}

/* GRID */
.grid{
display:grid;
grid-template-columns:repeat(auto-fit,minmax(160px,1fr));
gap:15px;
padding:20px;
padding-bottom:120px;
}

.card{
background:var(--glass);
border-radius:15px;
padding:15px;
transition:.3s;
border:1px solid #111;
}

.card:hover{
box-shadow:0 0 15px var(--accent);
}

.price{
color:var(--gold);
font-weight:bold;
margin:8px 0;
}

.btn{
padding:8px;
border:none;
border-radius:8px;
cursor:pointer;
background:var(--accent);
font-weight:bold;
}

/* MINI CARRITO */
.miniCart{
position:fixed;
right:20px;
bottom:20px;
background:var(--accent);
color:black;
padding:10px 18px;
border-radius:40px;
cursor:pointer;
font-weight:bold;
display:none;
}

.miniCart span{
background:black;
color:var(--accent);
padding:3px 7px;
border-radius:50%;
margin-left:6px;
}

/* PANEL CARRITO */
.cartPanel{
position:fixed;
right:-350px;
top:0;
width:300px;
height:100%;
background:#111827;
padding:20px;
transition:.4s;
overflow:auto;
}

.cartPanel.active{
right:0;
}

.cartPanel h3{
margin-top:0;
}

.cartPanel button{
margin-top:10px;
}

/* ADMIN */
.adminTrigger{
position:fixed;
left:15px;
bottom:15px;
opacity:.1;
font-size:28px;
cursor:pointer;
display:none;
transition:.3s;
}

.adminTrigger:hover{
opacity:.6;
transform:scale(1.2);
}

.adminPanel{
position:fixed;
inset:0;
background:rgba(0,0,0,.9);
display:none;
flex-direction:column;
align-items:center;
padding:40px;
z-index:2000;
overflow:auto;
}

.adminPanel input{
padding:10px;
margin:5px;
}

.adminPanel button{
padding:8px 20px;
margin-top:10px;
}
</style>
</head>

<body>

<!-- PORTADA -->
<div id="landing">
<h1>VIRTUD</h1>
<button class="enter-btn" onclick="enter()">ENTRAR</button>
</div>

<!-- APP -->
<div id="app">

<header>
<h2>VIRTUD STORE</h2>
</header>

<input type="text" class="search" placeholder="Buscar producto..." oninput="searchProduct(this.value)">

<div class="grid" id="productGrid"></div>

<!-- MINI CARRITO -->
<div class="miniCart" id="miniCart" onclick="toggleCart()">
üõí <span id="cartCount">0</span>
</div>

<!-- PANEL CARRITO -->
<div class="cartPanel" id="cartPanel">
<h3>Carrito</h3>
<ul id="cartItems"></ul>
<p>Total: $<span id="cartTotal">0</span></p>
<button onclick="clearCart()">Vaciar</button>
</div>

<!-- ADMIN -->
<div class="adminTrigger" id="adminBtn" onclick="adminAccess()">üîê</div>

<div class="adminPanel" id="adminPanel">
<h2>Panel Admin</h2>
<input type="text" id="newName" placeholder="Nombre producto">
<input type="number" id="newPrice" placeholder="Precio">
<button onclick="addProduct()">Agregar Producto</button>
<button onclick="closeAdmin()">Cerrar</button>
</div>

</div>

<script>

let products=[
{name:"Producto A",price:100},
{name:"Producto B",price:200},
{name:"Producto C",price:300}
];

let cart=[];

/* ENTRAR */
function enter(){
document.getElementById("landing").style.opacity="0";
setTimeout(()=>{
document.getElementById("landing").style.display="none";
document.getElementById("app").style.display="block";
document.getElementById("miniCart").style.display="block";
document.getElementById("adminBtn").style.display="block";
renderProducts(products);
},600);
}

/* RENDER */
function renderProducts(list){
let grid=document.getElementById("productGrid");
grid.innerHTML="";
list.forEach((p,i)=>{
grid.innerHTML+=`
<div class="card">
<h4>${p.name}</h4>
<div class="price">$${p.price}</div>
<button class="btn" onclick="addToCart(${i})">Agregar</button>
</div>`;
});
}

/* BUSCADOR */
function searchProduct(value){
let filtered=products.filter(p=>p.name.toLowerCase().includes(value.toLowerCase()));
renderProducts(filtered);
}

/* CARRITO */
function toggleCart(){
document.getElementById("cartPanel").classList.toggle("active");
}

function addToCart(index){
let product=products[index];
let exist=cart.find(c=>c.name===product.name);
if(exist){exist.qty++}
else{cart.push({...product,qty:1})}
updateCart();
}

function updateCart(){
let items=document.getElementById("cartItems");
let total=0;
items.innerHTML="";
cart.forEach((item,i)=>{
total+=item.price*item.qty;
items.innerHTML+=`
<li>${item.name} x${item.qty}
<button onclick="changeQty(${i},1)">+</button>
<button onclick="changeQty(${i},-1)">-</button>
</li>`;
});
document.getElementById("cartTotal").textContent=total;
document.getElementById("cartCount").textContent=cart.length;
}

function changeQty(i,val){
cart[i].qty+=val;
if(cart[i].qty<=0){cart.splice(i,1)}
updateCart();
}

function clearCart(){
cart=[];
updateCart();
}

/* ADMIN */
function adminAccess(){
let pass=prompt("Contrase√±a:");
if(pass==="separabit2020"){
document.getElementById("adminPanel").style.display="flex";
}
}

function closeAdmin(){
document.getElementById("adminPanel").style.display="none";
}

function addProduct(){
let name=document.getElementById("newName").value;
let price=parseFloat(document.getElementById("newPrice").value);
if(name && price){
products.push({name,price});
renderProducts(products);
document.getElementById("newName").value="";
document.getElementById("newPrice").value="";
}
}

</script>

</body>
</html>
