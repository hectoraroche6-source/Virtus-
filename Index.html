<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>VIRTUD</title>

<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;600&display=swap" rel="stylesheet">

<style>
body{
    margin:0;
    font-family:'Orbitron',sans-serif;
    background:linear-gradient(135deg,#0a0a14,#111827);
    color:white;
}

/* PORTADA */
#cover{
    height:100vh;
    display:flex;
    flex-direction:column;
    justify-content:center;
    align-items:center;
    text-align:center;
}

#cover img{
    width:200px;
    border-radius:20px;
    margin-bottom:20px;
}

#enterBtn{
    padding:15px 35px;
    border:none;
    background:#00f2ff;
    color:black;
    font-weight:bold;
    border-radius:30px;
    cursor:pointer;
}

/* MAIN */
#mainSite{
    display:none;
}

header{
    display:flex;
    justify-content:space-between;
    align-items:center;
    padding:20px 40px;
    background:rgba(255,255,255,0.05);
    backdrop-filter:blur(10px);
}

.logo{
    font-size:22px;
    color:#00f2ff;
}

/* BUSCADOR */
.search{
    text-align:center;
    padding:20px;
}

.search input{
    width:60%;
    padding:12px;
    border:none;
    border-radius:25px;
    outline:none;
}

/* PRODUCTOS */
.products{
    display:grid;
    grid-template-columns:repeat(auto-fit,minmax(250px,1fr));
    gap:20px;
    padding:40px;
}

.card{
    background:rgba(255,255,255,0.05);
    padding:20px;
    border-radius:15px;
    transition:0.3s;
}

.card:hover{
    box-shadow:0 0 15px #00f2ff;
}

.card button{
    width:100%;
    padding:10px;
    border:none;
    background:#00f2ff;
    cursor:pointer;
    font-weight:bold;
    border-radius:8px;
}

/* MINI CARRITO */
.miniCart{
    position:fixed;
    right:20px;
    bottom:20px;
    background:#00f2ff;
    color:black;
    padding:10px 15px;
    border-radius:30px;
    cursor:pointer;
    font-weight:bold;
    box-shadow:0 0 15px #00f2ff;
    z-index:1000;
}

.miniCart span{
    background:black;
    color:#00f2ff;
    padding:3px 8px;
    border-radius:50%;
    margin-left:5px;
}

/* PANEL CARRITO */
.cartPanel{
    position:fixed;
    right:-400px;
    top:0;
    width:350px;
    height:100vh;
    background:#111827;
    padding:20px;
    transition:0.4s;
    box-shadow:-5px 0 20px #00f2ff;
    z-index:2000;
    overflow-y:auto;
}

.cartPanel.active{
    right:0;
}

.cartHeader{
    display:flex;
    justify-content:space-between;
    align-items:center;
}

.cartPanel ul{
    list-style:none;
    padding:0;
}

.cartPanel li{
    margin-bottom:10px;
}

.cartPanel button{
    margin-top:5px;
    padding:6px;
    border:none;
    cursor:pointer;
    border-radius:6px;
}

/* ACCESO SECRETO */
#secretAccess{
    position:fixed;
    bottom:5px;
    left:5px;
    width:40px;
    height:40px;
    opacity:0.05;
    cursor:pointer;
}
</style>
</head>

<body>

<!-- PORTADA -->
<div id="cover">
    <img src="https://via.placeholder.com/200">
    <h1>VIRTUD</h1>
    <button id="enterBtn" onclick="enterSite()">Entrar</button>
</div>

<!-- SITIO PRINCIPAL -->
<div id="mainSite">

<header>
    <div class="logo">VIRTUD</div>
</header>

<div class="search">
    <input type="text" id="searchInput" placeholder="Buscar producto..." onkeyup="searchProduct()">
</div>

<div class="products" id="productContainer"></div>

</div>

<!-- MINI CARRITO -->
<div class="miniCart" onclick="toggleCart()">
    ðŸ›’ <span id="cartCount">0</span>
</div>

<!-- PANEL CARRITO -->
<div class="cartPanel" id="cartPanel">
    <div class="cartHeader">
        <h3>Tu Carrito</h3>
        <button onclick="toggleCart()">X</button>
    </div>

    <ul id="cartItems"></ul>

    <p>Total: $<span id="cartTotal">0</span></p>

    <button onclick="clearCart()">Vaciar carrito</button>
    <button onclick="sendWhatsApp()">Comprar</button>
</div>

<!-- BOTÃ“N SECRETO -->
<div id="secretAccess" onclick="adminAccess()"></div>

<script>

let products = [
    {name:"Producto A", price:100},
    {name:"Producto B", price:200},
    {name:"Producto C", price:300}
];

let cart = JSON.parse(localStorage.getItem("cart")) || [];

/* ENTRAR */
function enterSite(){
    document.getElementById("cover").style.display="none";
    document.getElementById("mainSite").style.display="block";
}

/* MOSTRAR PRODUCTOS */
function renderProducts(list){
    const container=document.getElementById("productContainer");
    container.innerHTML="";
    list.forEach((p,index)=>{
        container.innerHTML+=`
        <div class="card">
            <h3>${p.name}</h3>
            <p>$${p.price}</p>
            <button onclick="addToCart(${index})">Agregar</button>
        </div>`;
    });
}

/* BUSCADOR */
function searchProduct(){
    let value=document.getElementById("searchInput").value.toLowerCase();
    let filtered=products.filter(p=>p.name.toLowerCase().includes(value));
    renderProducts(filtered);
}

/* CARRITO */
function toggleCart(){
    document.getElementById("cartPanel").classList.toggle("active");
}

function updateCart(){
    const cartItems=document.getElementById("cartItems");
    const cartCount=document.getElementById("cartCount");
    const cartTotal=document.getElementById("cartTotal");

    cartItems.innerHTML="";
    let total=0;

    cart.forEach((item,i)=>{
        total+=item.price*item.qty;
        cartItems.innerHTML+=`
        <li>
        ${item.name} x${item.qty}
        <br>
        <button onclick="changeQty(${i},1)">+</button>
        <button onclick="changeQty(${i},-1)">-</button>
        <button onclick="removeItem(${i})">Eliminar</button>
        </li>`;
    });

    cartCount.textContent=cart.length;
    cartTotal.textContent=total;
    localStorage.setItem("cart",JSON.stringify(cart));
}

function addToCart(index){
    let product=products[index];
    let existing=cart.find(c=>c.name===product.name);
    if(existing){
        existing.qty++;
    }else{
        cart.push({...product, qty:1});
    }
    updateCart();
}

function changeQty(index,change){
    cart[index].qty+=change;
    if(cart[index].qty<=0){
        cart.splice(index,1);
    }
    updateCart();
}

function removeItem(index){
    cart.splice(index,1);
    updateCart();
}

function clearCart(){
    cart=[];
    updateCart();
}

function sendWhatsApp(){
    let message="Hola quiero comprar:%0A";
    cart.forEach(item=>{
        message+=`${item.name} x${item.qty} - $${item.price*item.qty}%0A`;
    });
    window.open(`https://wa.me/5358876921?text=${message}`);
}

/* PANEL SECRETO */
function adminAccess(){
    let pass=prompt("ContraseÃ±a:");
    if(pass==="separabit2020"){
        alert("Acceso concedido al panel (simulado)");
    }
}

renderProducts(products);
updateCart();

</script>

</body>
</html>
